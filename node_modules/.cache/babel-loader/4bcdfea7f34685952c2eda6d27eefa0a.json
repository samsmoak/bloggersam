{"ast":null,"code":"import _regeneratorRuntime from\"/Users/samsmoaki/Desktop/tailwind projects/blogapp/api/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/samsmoaki/Desktop/tailwind projects/blogapp/api/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from\"react\";import{Link}from\"react-router-dom\";import{useRef,useContext}from\"react\";import{Context}from\"../context/Context\";import API from\"./API\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var userRef=useRef();var passwordRef=useRef();var _useContext=useContext(Context),dispatch=_useContext.dispatch,isFetching=_useContext.isFetching;var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();dispatch({type:\"LOGIN_START\"});_context.prev=2;_context.next=5;return API.post(\"/auth/login\",{username:userRef.current.value,password:passwordRef.current.value});case 5:res=_context.sent;dispatch({type:\"LOGIN_SUCCESS\",payload:res.data});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);dispatch({type:\"LOGIN_FAILURE\"});case 12:case\"end\":return _context.stop();}}},_callee,null,[[2,9]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();// const disabled = { isFetching };\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-screen w-screen   z-10 flex justify-center items-center \",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://images.unsplash.com/photo-1574192324001-ee41e18ed679?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2370&q=80\",alt:\"\",className:\"w-full h-full filter blur\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute z-20  \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-small2 \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full flex justify-center \",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",style:{textDecoration:\"none\"},children:/*#__PURE__*/_jsx(\"button\",{className:\"text-5xl text-black\",children:\"login\"})})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"email\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"email\",placeholder:\"Username\",className:\" \",ref:userRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",placeholder:\"password\",ref:passwordRef})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center py-2\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isFetching,className:\"px-9 py-2  rounded-lg \".concat(isFetching?\"cursor-not-allowed bg-greener-400\":\"bg-greener-600\"),children:\"login\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full flex justify-center \",children:/*#__PURE__*/_jsx(\"button\",{className:\"bg-gray-100\",children:/*#__PURE__*/_jsx(Link,{to:\"/register\",style:{textDecoration:\"none\"},className:\"text-black\",children:\"register\"})})})]})})]})});}export default Login;","map":{"version":3,"sources":["/Users/samsmoaki/Desktop/tailwind projects/blogapp/api/client/src/components/Login.js"],"names":["React","Link","useRef","useContext","Context","API","Login","userRef","passwordRef","dispatch","isFetching","handleSubmit","e","preventDefault","type","post","username","current","value","password","res","payload","data","textDecoration"],"mappings":"6RAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,MAAT,CAAiBC,UAAjB,KAAmC,OAAnC,CACA,OAASC,OAAT,KAAwB,oBAAxB,CACA,MAAOC,CAAAA,GAAP,KAAgB,OAAhB,C,wFAEA,QAASC,CAAAA,KAAT,EAAiB,CAChB,GAAMC,CAAAA,OAAO,CAAGL,MAAM,EAAtB,CACA,GAAMM,CAAAA,WAAW,CAAGN,MAAM,EAA1B,CAEA,gBAAiCC,UAAU,CAACC,OAAD,CAA3C,CAAQK,QAAR,aAAQA,QAAR,CAAkBC,UAAlB,aAAkBA,UAAlB,CAEA,GAAMC,CAAAA,YAAY,0FAAG,iBAAOC,CAAP,0HACpBA,CAAC,CAACC,cAAF,GACAJ,QAAQ,CAAC,CAAEK,IAAI,CAAE,aAAR,CAAD,CAAR,CAFoB,sCAIDT,CAAAA,GAAG,CAACU,IAAJ,CAAS,aAAT,CAAwB,CACzCC,QAAQ,CAAET,OAAO,CAACU,OAAR,CAAgBC,KADe,CAEzCC,QAAQ,CAAEX,WAAW,CAACS,OAAZ,CAAoBC,KAFW,CAAxB,CAJC,QAIbE,GAJa,eAQnBX,QAAQ,CAAC,CAAEK,IAAI,CAAE,eAAR,CAAyBO,OAAO,CAAED,GAAG,CAACE,IAAtC,CAAD,CAAR,CARmB,+EAUnBb,QAAQ,CAAC,CAAEK,IAAI,CAAE,eAAR,CAAD,CAAR,CAVmB,oEAAH,kBAAZH,CAAAA,YAAY,4CAAlB,CAaA;AACA,mBACC,YAAK,SAAS,CAAC,EAAf,uBACC,aAAK,SAAS,CAAC,qEAAf,wBACC,YACC,GAAG,CAAC,gKADL,CAEC,GAAG,CAAC,EAFL,CAGC,SAAS,CAAC,2BAHX,EADD,cAMC,YAAK,SAAS,CAAC,iBAAf,uBACC,aAAK,SAAS,CAAC,WAAf,wBACC,YAAK,SAAS,CAAC,6BAAf,uBACC,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,CAAkB,KAAK,CAAE,CAAEY,cAAc,CAAE,MAAlB,CAAzB,uBACC,eAAQ,SAAS,CAAC,qBAAlB,mBADD,EADD,EADD,cAOC,cAAM,QAAQ,CAAEZ,YAAhB,wBACC,aAAK,SAAS,CAAC,eAAf,wBACC,cAAO,GAAG,CAAC,OAAX,sBADD,cAEC,cACC,IAAI,CAAC,MADN,CAEC,EAAE,CAAC,OAFJ,CAGC,WAAW,CAAC,UAHb,CAIC,SAAS,CAAC,GAJX,CAKC,GAAG,CAAEJ,OALN,EAFD,GADD,cAWC,aAAK,SAAS,CAAC,eAAf,wBACC,cAAO,GAAG,CAAC,UAAX,sBADD,cAEC,cACC,IAAI,CAAC,UADN,CAEC,EAAE,CAAC,UAFJ,CAGC,WAAW,CAAC,UAHb,CAIC,GAAG,CAAEC,WAJN,EAFD,GAXD,cAoBC,YAAK,SAAS,CAAC,0BAAf,uBACC,eACC,IAAI,CAAC,QADN,CAEC,QAAQ,CAAEE,UAFX,CAGC,SAAS,iCACRA,UAAU,CACP,mCADO,CAEP,gBAHK,CAHV,mBADD,EApBD,GAPD,cAyCC,YAAK,SAAS,CAAC,6BAAf,uBACC,eAAQ,SAAS,CAAC,aAAlB,uBACC,KAAC,IAAD,EACC,EAAE,CAAC,WADJ,CAEC,KAAK,CAAE,CAAEa,cAAc,CAAE,MAAlB,CAFR,CAGC,SAAS,CAAC,YAHX,sBADD,EADD,EAzCD,GADD,EAND,GADD,EADD,CAkEA,CAED,cAAejB,CAAAA,KAAf","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useRef, useContext } from \"react\";\nimport { Context } from \"../context/Context\";\nimport API from \"./API\";\n\nfunction Login() {\n\tconst userRef = useRef();\n\tconst passwordRef = useRef();\n\n\tconst { dispatch, isFetching } = useContext(Context);\n\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault();\n\t\tdispatch({ type: \"LOGIN_START\" });\n\t\ttry {\n\t\t\tconst res = await API.post(\"/auth/login\", {\n\t\t\t\tusername: userRef.current.value,\n\t\t\t\tpassword: passwordRef.current.value,\n\t\t\t});\n\t\t\tdispatch({ type: \"LOGIN_SUCCESS\", payload: res.data });\n\t\t} catch (err) {\n\t\t\tdispatch({ type: \"LOGIN_FAILURE\" });\n\t\t}\n\t};\n\t// const disabled = { isFetching };\n\treturn (\n\t\t<div className=''>\n\t\t\t<div className='relative h-screen w-screen   z-10 flex justify-center items-center '>\n\t\t\t\t<img\n\t\t\t\t\tsrc='https://images.unsplash.com/photo-1574192324001-ee41e18ed679?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2370&q=80'\n\t\t\t\t\talt=''\n\t\t\t\t\tclassName='w-full h-full filter blur'\n\t\t\t\t/>\n\t\t\t\t<div className='absolute z-20  '>\n\t\t\t\t\t<div className='w-small2 '>\n\t\t\t\t\t\t<div className='w-full flex justify-center '>\n\t\t\t\t\t\t\t<Link to='/login' style={{ textDecoration: \"none\" }}>\n\t\t\t\t\t\t\t\t<button className='text-5xl text-black'>login</button>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t\t<div className='flex flex-col'>\n\t\t\t\t\t\t\t\t<label for='email'>Username</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tid='email'\n\t\t\t\t\t\t\t\t\tplaceholder='Username'\n\t\t\t\t\t\t\t\t\tclassName=' '\n\t\t\t\t\t\t\t\t\tref={userRef}\n\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='flex flex-col'>\n\t\t\t\t\t\t\t\t<label for='password'>Password</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\tid='password'\n\t\t\t\t\t\t\t\t\tplaceholder='password'\n\t\t\t\t\t\t\t\t\tref={passwordRef}\n\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='flex justify-center py-2'>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\tdisabled={isFetching}\n\t\t\t\t\t\t\t\t\tclassName={`px-9 py-2  rounded-lg ${\n\t\t\t\t\t\t\t\t\t\tisFetching\n\t\t\t\t\t\t\t\t\t\t\t? \"cursor-not-allowed bg-greener-400\"\n\t\t\t\t\t\t\t\t\t\t\t: \"bg-greener-600\"\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tlogin\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t<div className='w-full flex justify-center '>\n\t\t\t\t\t\t\t<button className='bg-gray-100'>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto='/register'\n\t\t\t\t\t\t\t\t\tstyle={{ textDecoration: \"none\" }}\n\t\t\t\t\t\t\t\t\tclassName='text-black'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tregister\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}